!function(e,t,n,i){"use strict";var o=function(){var e=n.body||n.documentElement,e=e.style;return""==e.WebkitTransition?"-webkit-":""==e.MozTransition?"-moz-":""==e.OTransition?"-o-":""==e.transition?"":!1},r=o()===!1?!1:!0,a=function(e,t,n){var i={},r=o();i[r+"transform"]="translateX("+t+")",i[r+"transition"]=r+"transform "+n+"s linear",e.css(i)},u="ontouchstart"in t,d=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,l=function(e){if(u)return!0;if(!d||"undefined"==typeof e||"undefined"==typeof e.pointerType)return!1;if("undefined"!=typeof e.MSPOINTER_TYPE_MOUSE){if(e.MSPOINTER_TYPE_MOUSE!=e.pointerType)return!0}else if("mouse"!=e.pointerType)return!0;return!1};e.fn.imageLightbox=function(i){var i=e.extend({selector:'id="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,onStart:!1,onEnd:!1,onLoadStart:!1,onLoadEnd:!1},i),o=e([]),c=e(),f=e(),p=0,g=0,s=0,h=!1,m=function(t){return"a"==e(t).prop("tagName").toLowerCase()&&new RegExp(".("+i.allowedTypes+")$","i").test(e(t).attr("href"))},v=function(){if(!f.length)return!1;var n=.8*e(t).width(),i=.9*e(t).height(),o=new Image;o.src=f.attr("src"),o.onload=function(){if(p=o.width,g=o.height,p>n||g>i){var r=p/g>n/i?p/n:g/i;p/=r,g/=r}f.css({width:p+"px",height:g+"px",top:(e(t).height()-g)/2+"px",left:(e(t).width()-p)/2+"px"})}},x=function(t){if(h)return!1;if(t="undefined"==typeof t?!1:"left"==t?1:-1,f.length){if(t!==!1&&(o.length<2||i.quitOnEnd===!0&&(-1===t&&0==o.index(c)||1===t&&o.index(c)==o.length-1)))return y(),!1;var n={opacity:0};r?a(f,100*t-s+"px",i.animationSpeed/1e3):n.left=parseInt(f.css("left"))+100*t+"px",f.animate(n,i.animationSpeed,function(){E()}),s=0}h=!0,i.onLoadStart!==!1&&i.onLoadStart(),setTimeout(function(){f=e("<img "+i.selector+" />").attr("src",c.attr("href")).load(function(){f.appendTo("body"),v();var n={opacity:1};if(f.css("opacity",0),r)a(f,-100*t+"px",0),setTimeout(function(){a(f,"0px",i.animationSpeed/1e3)},50);else{var u=parseInt(f.css("left"));n.left=u+"px",f.css("left",u-100*t+"px")}if(f.animate(n,i.animationSpeed,function(){h=!1,i.onLoadEnd!==!1&&i.onLoadEnd()}),i.preloadNext){var d=o.eq(o.index(c)+1);d.length||(d=o.eq(0)),e("<img />").attr("src",d.attr("href")).load()}}).error(function(){i.onLoadEnd!==!1&&i.onLoadEnd()});var n=0,u=0,g=0;f.on(d?"pointerup MSPointerUp":"click",function(e){if(e.preventDefault(),i.quitOnImgClick)return y(),!1;if(l(e.originalEvent))return!0;var t=(e.pageX||e.originalEvent.pageX)-e.target.offsetLeft;c=o.eq(o.index(c)-(p/2>t?1:-1)),c.length||(c=o.eq(p/2>t?o.length:0)),x(p/2>t?"left":"right")}).on("touchstart pointerdown MSPointerDown",function(e){return!l(e.originalEvent)||i.quitOnImgClick?!0:(r&&(g=parseInt(f.css("left"))),void(n=e.originalEvent.pageX||e.originalEvent.touches[0].pageX))}).on("touchmove pointermove MSPointerMove",function(e){return!l(e.originalEvent)||i.quitOnImgClick?!0:(e.preventDefault(),u=e.originalEvent.pageX||e.originalEvent.touches[0].pageX,s=n-u,void(r?a(f,-s+"px",0):f.css("left",g-s+"px")))}).on("touchend touchcancel pointerup MSPointerUp",function(e){return!l(e.originalEvent)||i.quitOnImgClick?!0:void(Math.abs(s)>50?(c=o.eq(o.index(c)-(0>s?1:-1)),c.length||(c=o.eq(0>s?o.length:0)),x(s>0?"right":"left")):r?a(f,"0px",i.animationSpeed/1e3):f.animate({left:g+"px"},i.animationSpeed/2))})},i.animationSpeed+100)},E=function(){return f.length?(f.remove(),void(f=e())):!1},y=function(){return f.length?void f.animate({opacity:0},i.animationSpeed,function(){E(),h=!1,i.onEnd!==!1&&i.onEnd()}):!1};return e(t).on("resize",v),i.quitOnDocClick&&e(n).on(u?"touchend":"click",function(t){f.length&&!e(t.target).is(f)&&y()}),i.enableKeyboard&&e(n).on("keyup",function(e){return f.length?(e.preventDefault(),27==e.keyCode&&y(),void((37==e.keyCode||39==e.keyCode)&&(c=o.eq(o.index(c)-(37==e.keyCode?1:-1)),c.length||(c=o.eq(37==e.keyCode?o.length:0)),x(37==e.keyCode?"left":"right")))):!0}),e(n).on("click",this.selector,function(t){return m(this)?(t.preventDefault(),h?!1:(h=!1,i.onStart!==!1&&i.onStart(),c=e(this),void x())):!0}),this.each(function(){return m(this)?void(o=o.add(e(this))):!0}),this.switchImageLightbox=function(e){var t=o.eq(e);if(t.length){var n=o.index(c);c=t,x(n>e?"left":"right")}return this},this.quitImageLightbox=function(){return y(),this},this}}(jQuery,window,document),$(".image-gallery").imageLightbox({selector:'class="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0});