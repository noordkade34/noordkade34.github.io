!function(t,n,e,i){"use strict";var o=function(){var t=e.body||e.documentElement,t=t.style;return""==t.WebkitTransition?"-webkit-":""==t.MozTransition?"-moz-":""==t.OTransition?"-o-":""==t.transition?"":!1},a=o()===!1?!1:!0,r=function(t,n,e){var i={},a=o();i[a+"transform"]="translateX("+n+")",i[a+"transition"]=a+"transform "+e+"s linear",t.css(i)},c="ontouchstart"in n,d=n.navigator.pointerEnabled||n.navigator.msPointerEnabled,f=function(t){if(c)return!0;if(!d||"undefined"==typeof t||"undefined"==typeof t.pointerType)return!1;if("undefined"!=typeof t.MSPOINTER_TYPE_MOUSE){if(t.MSPOINTER_TYPE_MOUSE!=t.pointerType)return!0}else if("mouse"!=t.pointerType)return!0;return!1};t.fn.imageLightbox=function(i){var i=t.extend({selector:'id="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,onStart:!1,onEnd:!1,onLoadStart:!1,onLoadEnd:!1},i),o=t([]),l=t(),u=t(),g=0,h=0,p=0,v=!1,s=function(n){return"a"==t(n).prop("tagName").toLowerCase()&&new RegExp(".("+i.allowedTypes+")$","i").test(t(n).attr("href"))},m=function(){if(!u.length)return!1;var e=.8*t(n).width(),i=.9*t(n).height(),o=new Image;o.src=u.attr("src"),o.onload=function(){if(g=o.width,h=o.height,g>e||h>i){var a=g/h>e/i?g/e:h/i;g/=a,h/=a}u.css({width:g+"px",height:h+"px",top:(t(n).height()-h)/2+"px",left:(t(n).width()-g)/2+"px"})}},x=function(n){if(v)return!1;if(n="undefined"==typeof n?!1:"left"==n?1:-1,u.length){if(n!==!1&&(o.length<2||i.quitOnEnd===!0&&(-1===n&&0==o.index(l)||1===n&&o.index(l)==o.length-1)))return b(),!1;var e={opacity:0};a?r(u,100*n-p+"px",i.animationSpeed/1e3):e.left=parseInt(u.css("left"))+100*n+"px",u.animate(e,i.animationSpeed,function(){y()}),p=0}v=!0,i.onLoadStart!==!1&&i.onLoadStart(),setTimeout(function(){u=t("<img "+i.selector+" />").attr("src",l.attr("href")).load(function(){u.appendTo("body"),m();var e={opacity:1};if(u.css("opacity",0),a)r(u,-100*n+"px",0),setTimeout(function(){r(u,"0px",i.animationSpeed/1e3)},50);else{var c=parseInt(u.css("left"));e.left=c+"px",u.css("left",c-100*n+"px")}if(u.animate(e,i.animationSpeed,function(){v=!1,i.onLoadEnd!==!1&&i.onLoadEnd()}),i.preloadNext){var d=o.eq(o.index(l)+1);d.length||(d=o.eq(0)),t("<img />").attr("src",d.attr("href")).load()}}).error(function(){i.onLoadEnd!==!1&&i.onLoadEnd()});var e=0,c=0,h=0;u.on(d?"pointerup MSPointerUp":"click",function(t){if(t.preventDefault(),i.quitOnImgClick)return b(),!1;if(f(t.originalEvent))return!0;var n=(t.pageX||t.originalEvent.pageX)-t.target.offsetLeft;l=o.eq(o.index(l)-(g/2>n?1:-1)),l.length||(l=o.eq(g/2>n?o.length:0)),x(g/2>n?"left":"right")}).on("touchstart pointerdown MSPointerDown",function(t){return!f(t.originalEvent)||i.quitOnImgClick?!0:(a&&(h=parseInt(u.css("left"))),void(e=t.originalEvent.pageX||t.originalEvent.touches[0].pageX))}).on("touchmove pointermove MSPointerMove",function(t){return!f(t.originalEvent)||i.quitOnImgClick?!0:(t.preventDefault(),c=t.originalEvent.pageX||t.originalEvent.touches[0].pageX,p=e-c,void(a?r(u,-p+"px",0):u.css("left",h-p+"px")))}).on("touchend touchcancel pointerup MSPointerUp",function(t){return!f(t.originalEvent)||i.quitOnImgClick?!0:void(Math.abs(p)>50?(l=o.eq(o.index(l)-(0>p?1:-1)),l.length||(l=o.eq(0>p?o.length:0)),x(p>0?"right":"left")):a?r(u,"0px",i.animationSpeed/1e3):u.animate({left:h+"px"},i.animationSpeed/2))})},i.animationSpeed+100)},y=function(){return u.length?(u.remove(),void(u=t())):!1},b=function(){return u.length?void u.animate({opacity:0},i.animationSpeed,function(){y(),v=!1,i.onEnd!==!1&&i.onEnd()}):!1};return t(n).on("resize",m),i.quitOnDocClick&&t(e).on(c?"touchend":"click",function(n){u.length&&!t(n.target).is(u)&&b()}),i.enableKeyboard&&t(e).on("keyup",function(t){return u.length?(t.preventDefault(),27==t.keyCode&&b(),void((37==t.keyCode||39==t.keyCode)&&(l=o.eq(o.index(l)-(37==t.keyCode?1:-1)),l.length||(l=o.eq(37==t.keyCode?o.length:0)),x(37==t.keyCode?"left":"right")))):!0}),t(e).on("click",this.selector,function(n){return s(this)?(n.preventDefault(),v?!1:(v=!1,i.onStart!==!1&&i.onStart(),l=t(this),void x())):!0}),this.each(function(){return s(this)?void(o=o.add(t(this))):!0}),this.switchImageLightbox=function(t){var n=o.eq(t);if(n.length){var e=o.index(l);l=n,x(e>t?"left":"right")}return this},this.quitImageLightbox=function(){return b(),this},this}}(jQuery,window,document),function(t){function n(){r.content="width=device-width,minimum-scale="+a[0]+",maximum-scale="+a[1],t.removeEventListener(i,n,!0)}var e="addEventListener",i="gesturestart",o="querySelectorAll",a=[1,1],r=o in t?t[o]("meta[name=viewport]"):[];(r=r[r.length-1])&&e in t&&(n(),a=[.25,1.6],t[e](i,n,!0))}(document);var activityIndicatorOn=function(){$('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},activityIndicatorOff=function(){$("#imagelightbox-loading").remove()},overlayOn=function(){$('<div id="imagelightbox-overlay"></div>').appendTo("body")},overlayOff=function(){$("#imagelightbox-overlay").remove()},closeButtonOn=function(t){$('<a href="#" id="imagelightbox-close">Close</a>').appendTo("body").on("click",function(){return $(this).remove(),t.quitImageLightbox(),!1})},closeButtonOff=function(){$("#imagelightbox-close").remove()},captionOn=function(){var t=$('a[href="'+$("#imagelightbox").attr("src")+'"] img').attr("alt");t.length>0&&$('<div id="imagelightbox-caption">'+t+"</div>").appendTo("body")},captionOff=function(){$("#imagelightbox-caption").remove()},navigationOn=function(t,n){var e=$(n);if(e.length){for(var i=$('<div id="imagelightbox-nav"></div>'),o=0;o<e.length;o++)i.append('<a href="#"></a>');i.appendTo("body"),i.on("click touchend",function(){return!1});var a=i.find("a");a.on("click touchend",function(){var n=$(this);return e.eq(n.index()).attr("href")!=$("#imagelightbox").attr("src")&&t.switchImageLightbox(n.index()),a.removeClass("active"),a.eq(n.index()).addClass("active"),!1}).on("touchend",function(){return!1})}},navigationUpdate=function(t){var n=$("#imagelightbox-nav a");n.removeClass("active"),n.eq($(t).filter('[href="'+$("#imagelightbox").attr("src")+'"]').index(t)).addClass("active")},navigationOff=function(){$("#imagelightbox-nav").remove()};$(function(){var t=".image-gallery a",n=$(t).imageLightbox({onStart:function(){overlayOn()},onEnd:function(){overlayOff(),captionOff(),activityIndicatorOff()},onLoadStart:function(){captionOff(),activityIndicatorOn()},onLoadEnd:function(){captionOn(),activityIndicatorOff()}})});