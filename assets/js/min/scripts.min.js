!function(n,t,e,i){"use strict";var o=function(){var n=e.body||e.documentElement,n=n.style;return""==n.WebkitTransition?"-webkit-":""==n.MozTransition?"-moz-":""==n.OTransition?"-o-":""==n.transition?"":!1},a=o()===!1?!1:!0,r=function(n,t,e){var i={},a=o();i[a+"transform"]="translateX("+t+")",i[a+"transition"]=a+"transform "+e+"s linear",n.css(i)},c="ontouchstart"in t,d=t.navigator.pointerEnabled||t.navigator.msPointerEnabled,f=function(n){if(c)return!0;if(!d||"undefined"==typeof n||"undefined"==typeof n.pointerType)return!1;if("undefined"!=typeof n.MSPOINTER_TYPE_MOUSE){if(n.MSPOINTER_TYPE_MOUSE!=n.pointerType)return!0}else if("mouse"!=n.pointerType)return!0;return!1};n.fn.imageLightbox=function(i){var i=n.extend({selector:'id="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,onStart:!1,onEnd:!1,onLoadStart:!1,onLoadEnd:!1},i),o=n([]),l=n(),u=n(),g=0,v=0,h=0,p=!1,s=function(t){return"a"==n(t).prop("tagName").toLowerCase()&&new RegExp(".("+i.allowedTypes+")$","i").test(n(t).attr("href"))},m=function(){if(!u.length)return!1;var e=.8*n(t).width(),i=.9*n(t).height(),o=new Image;o.src=u.attr("src"),o.onload=function(){if(g=o.width,v=o.height,g>e||v>i){var a=g/v>e/i?g/e:v/i;g/=a,v/=a}u.css({width:g+"px",height:v+"px",top:(n(t).height()-v)/2+"px",left:(n(t).width()-g)/2+"px"})}},x=function(t){if(p)return!1;if(t="undefined"==typeof t?!1:"left"==t?1:-1,u.length){if(t!==!1&&(o.length<2||i.quitOnEnd===!0&&(-1===t&&0==o.index(l)||1===t&&o.index(l)==o.length-1)))return b(),!1;var e={opacity:0};a?r(u,100*t-h+"px",i.animationSpeed/1e3):e.left=parseInt(u.css("left"))+100*t+"px",u.animate(e,i.animationSpeed,function(){y()}),h=0}p=!0,i.onLoadStart!==!1&&i.onLoadStart(),setTimeout(function(){u=n("<img "+i.selector+" />").attr("src",l.attr("href")).load(function(){u.appendTo("body"),m();var e={opacity:1};if(u.css("opacity",0),a)r(u,-100*t+"px",0),setTimeout(function(){r(u,"0px",i.animationSpeed/1e3)},50);else{var c=parseInt(u.css("left"));e.left=c+"px",u.css("left",c-100*t+"px")}if(u.animate(e,i.animationSpeed,function(){p=!1,i.onLoadEnd!==!1&&i.onLoadEnd()}),i.preloadNext){var d=o.eq(o.index(l)+1);d.length||(d=o.eq(0)),n("<img />").attr("src",d.attr("href")).load()}}).error(function(){i.onLoadEnd!==!1&&i.onLoadEnd()});var e=0,c=0,v=0;u.on(d?"pointerup MSPointerUp":"click",function(n){if(n.preventDefault(),i.quitOnImgClick)return b(),!1;if(f(n.originalEvent))return!0;var t=(n.pageX||n.originalEvent.pageX)-n.target.offsetLeft;l=o.eq(o.index(l)-(g/2>t?1:-1)),l.length||(l=o.eq(g/2>t?o.length:0)),x(g/2>t?"left":"right")}).on("touchstart pointerdown MSPointerDown",function(n){return!f(n.originalEvent)||i.quitOnImgClick?!0:(a&&(v=parseInt(u.css("left"))),void(e=n.originalEvent.pageX||n.originalEvent.touches[0].pageX))}).on("touchmove pointermove MSPointerMove",function(n){return!f(n.originalEvent)||i.quitOnImgClick?!0:(n.preventDefault(),c=n.originalEvent.pageX||n.originalEvent.touches[0].pageX,h=e-c,void(a?r(u,-h+"px",0):u.css("left",v-h+"px")))}).on("touchend touchcancel pointerup MSPointerUp",function(n){return!f(n.originalEvent)||i.quitOnImgClick?!0:void(Math.abs(h)>50?(l=o.eq(o.index(l)-(0>h?1:-1)),l.length||(l=o.eq(0>h?o.length:0)),x(h>0?"right":"left")):a?r(u,"0px",i.animationSpeed/1e3):u.animate({left:v+"px"},i.animationSpeed/2))})},i.animationSpeed+100)},y=function(){return u.length?(u.remove(),void(u=n())):!1},b=function(){return u.length?void u.animate({opacity:0},i.animationSpeed,function(){y(),p=!1,i.onEnd!==!1&&i.onEnd()}):!1};return n(t).on("resize",m),i.quitOnDocClick&&n(e).on(c?"touchend":"click",function(t){u.length&&!n(t.target).is(u)&&b()}),i.enableKeyboard&&n(e).on("keyup",function(n){return u.length?(n.preventDefault(),27==n.keyCode&&b(),void((37==n.keyCode||39==n.keyCode)&&(l=o.eq(o.index(l)-(37==n.keyCode?1:-1)),l.length||(l=o.eq(37==n.keyCode?o.length:0)),x(37==n.keyCode?"left":"right")))):!0}),n(e).on("click",this.selector,function(t){return s(this)?(t.preventDefault(),p?!1:(p=!1,i.onStart!==!1&&i.onStart(),l=n(this),void x())):!0}),this.each(function(){return s(this)?void(o=o.add(n(this))):!0}),this.switchImageLightbox=function(n){var t=o.eq(n);if(t.length){var e=o.index(l);l=t,x(e>n?"left":"right")}return this},this.quitImageLightbox=function(){return b(),this},this}}(jQuery,window,document),function(n){function t(){r.content="width=device-width,minimum-scale="+a[0]+",maximum-scale="+a[1],n.removeEventListener(i,t,!0)}var e="addEventListener",i="gesturestart",o="querySelectorAll",a=[1,1],r=o in n?n[o]("meta[name=viewport]"):[];(r=r[r.length-1])&&e in n&&(t(),a=[.25,1.6],n[e](i,t,!0))}(document);var activityIndicatorOn=function(){$('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},activityIndicatorOff=function(){$("#imagelightbox-loading").remove()},overlayOn=function(){$('<div id="imagelightbox-overlay"></div>').appendTo("body")},overlayOff=function(){$("#imagelightbox-overlay").remove()},closeButtonOn=function(n){$('<a href="#" id="imagelightbox-close">Close</a>').appendTo("body").on("click",function(){return $(this).remove(),n.quitImageLightbox(),!1})},closeButtonOff=function(){$("#imagelightbox-close").remove()},captionOn=function(){var n=$('a[href="'+$("#imagelightbox").attr("src")+'"] img').attr("alt");n.length>0&&$('<div id="imagelightbox-caption">'+n+"</div>").appendTo("body")},captionOff=function(){$("#imagelightbox-caption").remove()},navigationOn=function(n,t){var e=$(t);if(e.length){for(var i=$('<div id="imagelightbox-nav"></div>'),o=0;o<e.length;o++)i.append('<a href="#"></a>');i.appendTo("body"),i.on("click touchend",function(){return!1});var a=i.find("a");a.on("click touchend",function(){var t=$(this);return e.eq(t.index()).attr("href")!=$("#imagelightbox").attr("src")&&n.switchImageLightbox(t.index()),a.removeClass("active"),a.eq(t.index()).addClass("active"),!1}).on("touchend",function(){return!1})}},navigationUpdate=function(n){var t=$("#imagelightbox-nav a");t.removeClass("active"),t.eq($(n).filter('[href="'+$("#imagelightbox").attr("src")+'"]').index(n)).addClass("active")},navigationOff=function(){$("#imagelightbox-nav").remove()};$(function(){var n=".image-gallery a",t=$(n).imageLightbox({onStart:function(){overlayOn(),navigationOn(t,n)},onEnd:function(){overlayOff(),navigationOff(),captionOff(),activityIndicatorOff()},onLoadStart:function(){captionOff(),activityIndicatorOn()},onLoadEnd:function(){captionOn(),navigationUpdate(n),activityIndicatorOff()}})});